<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title><%= app_name %> - <%= page_title %></title>

    <!-- styling from bulma.io. documentation here: https://bulma.io/documentation/components/navbar/ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <script defer src="https://use.fontawesome.com/releases/v5.1.0/js/all.js"></script>
  </head>
  <header>
    <nav class="navbar is-dark" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
          <a class="navbar-item" href="/">
            <!-- <img src="https://bulma.io/images/bulma-logo.png" alt="Bulma: a modern CSS framework based on Flexbox" width="112" height="28"> -->
            <i class="fas fa-fw fa-gamepad" style="font-size: 2em; padding-right: 6px"></i><%= app_name %>
          </a>
          <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
              <span aria-hidden="true"></span>
              <span aria-hidden="true"></span>
              <span aria-hidden="true"></span>
            </a>
        </div>

        <div class="navbar-menu">
            <div class="navbar-start">
              <!-- left side elements here -->
              <a class="navbar-item" href="/library/">
                  Library
              </a>

              <% if (locals.session.user) { %>
              <a class="navbar-item" href="/users/profile/">
                Profile
              </a>
              <% if (locals.session.user.role === "admin") { %>
              <a class="navbar-item" href="/admin/">
                Admin
              </a>
              <% } %>
              <a class="navbar-item" href="/users/logout/">
                Logout
              </a>
              <% } else { %>
              <a class="navbar-item" href="/users/new/">
                Register
              </a>
              <a class="navbar-item" href="/users/login/">
                Login
              </a>
              <% } %>
              
            </div>
            <div class="navbar-end">
                <% if (locals.session.user && locals.session.user.role !== 'admin') { %>
                <a class="navbar-item" href="/users/<%= locals.session.user.id %>/promote/">
                  Promote
                </a>
                <% } %>
                <!-- right side elements here -->
            </div>
        </div>
      </nav>
  </header>
  <body>
  <section class="section">
      <div class="container">
            <%- messages('partials/message', locals) %>